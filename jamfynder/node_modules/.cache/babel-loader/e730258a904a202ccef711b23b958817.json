{"ast":null,"code":"import _toConsumableArray from \"/Users/hoodymo/JamFynDer/JamFynDer/jamfynder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/hoodymo/JamFynDer/JamFynDer/jamfynder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/hoodymo/JamFynDer/JamFynDer/jamfynder/src/components/TutorialPage/TutorialPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./TutorialPage.css\";\nimport \"./Dropdown.js\";\nimport Listbox from \"./Listbox\";\nimport Dropdown from \"./Dropdown.js\";\n//import axios from 'axios'\nimport Detail from \"./Detail\";\nvar TutorialPage = function TutorialPage() {\n  var clientID = \"8bc35a75fa824f0b9ff3d0683c05fa82\";\n  var secret = \"ba291791b4854e7ba6fdd7a3abbb0814\";\n  var data = [{\n    value: 1,\n    name: 'A'\n  }, {\n    value: 2,\n    name: 'B'\n  }, {\n    value: 3,\n    name: 'C'\n  }];\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    token = _useState2[0],\n    setToken = _useState2[1];\n  var _useState3 = useState({\n      selectedGenre: '',\n      listOfGenresFromAPI: []\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    genres = _useState4[0],\n    setGenres = _useState4[1];\n  var _useState5 = useState({\n      selectedPlaylist: '',\n      listOfPlaylistFromAPI: []\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    playlist = _useState6[0],\n    setPlaylist = _useState6[1];\n  var _useState7 = useState({\n      selectedTrack: '',\n      listOfTracksFromAPI: []\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    tracks = _useState8[0],\n    setTracks = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    trackDetail = _useState10[0],\n    setTrackDetail = _useState10[1];\n  useEffect(function () {\n    axios('https://accounts.spotify.com/api/token', {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + btoa(clientID + ':' + secret)\n      },\n      data: 'grant_type=client_credentials',\n      method: 'POST'\n    }).then(function (tokenResponse) {\n      setToken(tokenResponse.data.access_token);\n      axios('https://api.spotify.com/v1/browse/categories?country=US', {\n        method: 'GET',\n        headers: {\n          'Authorization': 'Bearer ' + tokenResponse.data.access_token\n        }\n      }).then(function (genreResponse) {\n        setGenres({\n          selectedGenre: genres.selectedGenre,\n          listOfGenresFromAPI: genreResponse.data.categories.items\n        });\n      });\n    });\n  }, [genres.selectedGenre, clientID, secret]);\n  var genreChanged = function genreChanged(val) {\n    setGenres({\n      selectedGenre: val,\n      listOfGenresFromAPI: genres.listOfGenresFromAPI\n    });\n    axios(\"https://api.spotify.com/v1/browse/categories/\".concat(val, \"/playlists?limit=10\"), {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(function (playlistResponse) {\n      setPlaylist({\n        selectedPlaylist: playlist.selectedPlaylist,\n        listOfPlaylistFromAPI: playlistResponse.data.playlists.items\n      });\n    });\n  };\n  var playlistChanged = function playlistChanged(val) {\n    console.log(val);\n    setPlaylist({\n      selectedPlaylist: val,\n      listOfPlaylistFromAPI: playlist.listOfPlaylistFromAPI\n    });\n  };\n  var buttonClicked = function buttonClicked(e) {\n    e.preventDefault();\n    axios(\"https://api.spotify.com/v1/playlists/\".concat(playlist.selectedPlaylist, \"/tracks?limit=10\"), {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(function (tracksResponse) {\n      setTracks({\n        selectedTrack: tracks.selectedTrack,\n        listOfTracksFromAPI: tracksResponse.data.items\n      });\n    });\n  };\n  var listboxClicked = function listboxClicked(val) {\n    var currentTracks = _toConsumableArray(tracks.listOfTracksFromAPI);\n    var trackInfo = currentTracks.filter(function (t) {\n      return t.track.id === val;\n    });\n    setTrackDetail(trackInfo[0].track);\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: buttonClicked,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, \"select a genre\"), /*#__PURE__*/React.createElement(Dropdown, {\n    \"data-testid\": \"genre\",\n    options: genres.listOfGenresFromAPI,\n    selectedValue: genres.selectedValue,\n    changed: genreChanged,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, \"select a playlist\"), /*#__PURE__*/React.createElement(Dropdown, {\n    options: playlist.listOfPlaylistFromAPI,\n    selectedValue: playlist.selectedPlaylist,\n    changed: playlistChanged,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Listbox, {\n    items: tracks.listOfTracksFromAPI,\n    clicked: listboxClicked,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }), trackDetail && /*#__PURE__*/React.createElement(Detail, Object.assign({}, trackDetail, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }))));\n};\nexport default TutorialPage;","map":{"version":3,"names":["React","useState","useEffect","Listbox","Dropdown","Detail","TutorialPage","clientID","secret","data","value","name","token","setToken","selectedGenre","listOfGenresFromAPI","genres","setGenres","selectedPlaylist","listOfPlaylistFromAPI","playlist","setPlaylist","selectedTrack","listOfTracksFromAPI","tracks","setTracks","trackDetail","setTrackDetail","axios","headers","btoa","method","then","tokenResponse","access_token","genreResponse","categories","items","genreChanged","val","playlistResponse","playlists","playlistChanged","console","log","buttonClicked","e","preventDefault","tracksResponse","listboxClicked","currentTracks","trackInfo","filter","t","track","id","selectedValue"],"sources":["/Users/hoodymo/JamFynDer/JamFynDer/jamfynder/src/components/TutorialPage/TutorialPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./TutorialPage.css\"\nimport \"./Dropdown.js\"\nimport Listbox from \"./Listbox\";\nimport Dropdown from \"./Dropdown.js\";\n//import axios from 'axios'\nimport Detail from \"./Detail\";\n\n\n\n\nconst TutorialPage = () => {\n     \n\n    const clientID = \"8bc35a75fa824f0b9ff3d0683c05fa82\"\n    const secret = \"ba291791b4854e7ba6fdd7a3abbb0814\"\n\n    const data = [ \n        {value: 1, name: 'A'},\n        {value: 2, name: 'B'},\n        {value: 3, name: 'C'},\n      ]; \n \n      const [token, setToken] = useState('');\n      const [genres, setGenres] = useState({selectedGenre: '', listOfGenresFromAPI: []});\n      const [playlist, setPlaylist] = useState({selectedPlaylist: '', listOfPlaylistFromAPI: []});\n      const [tracks, setTracks] = useState({selectedTrack: '', listOfTracksFromAPI: []});\n      const [trackDetail, setTrackDetail] = useState(null);\n\n      useEffect(() => {\n\n        axios('https://accounts.spotify.com/api/token', {\n            headers: {\n                'Content-Type' : 'application/x-www-form-urlencoded',\n                'Authorization' : 'Basic ' + btoa(clientID + ':' + secret)      \n            },\n            data: 'grant_type=client_credentials',\n            method: 'POST'\n            })\n            .then(tokenResponse => {       \n            setToken(tokenResponse.data.access_token);\n            \n\n            axios('https://api.spotify.com/v1/browse/categories?country=US', {\n                method: 'GET',\n                headers: { 'Authorization' : 'Bearer ' + tokenResponse.data.access_token}\n              })\n              .then (genreResponse => {        \n                setGenres({\n                  selectedGenre: genres.selectedGenre, \n                  listOfGenresFromAPI: genreResponse.data.categories.items\n                })\n              });\n            });\n\n\n      }, [genres.selectedGenre, clientID, secret]);\n\n      const genreChanged = val => { \n        setGenres({\n          selectedGenre: val, \n          listOfGenresFromAPI: genres.listOfGenresFromAPI\n        });\n\n        axios(`https://api.spotify.com/v1/browse/categories/${val}/playlists?limit=10`, {\n            method: 'GET',\n            headers: { 'Authorization' : 'Bearer ' + token}\n          })\n          .then(playlistResponse => {\n            setPlaylist({\n              selectedPlaylist: playlist.selectedPlaylist,\n              listOfPlaylistFromAPI: playlistResponse.data.playlists.items\n            })\n          });\n\n      }\n\n      const playlistChanged = val => {\n        console.log(val);\n        setPlaylist({\n          selectedPlaylist: val,\n          listOfPlaylistFromAPI: playlist.listOfPlaylistFromAPI\n        });\n      }\n\n      const buttonClicked = e => {\n          e.preventDefault();\n      \n          axios(`https://api.spotify.com/v1/playlists/${playlist.selectedPlaylist}/tracks?limit=10`, {\n            method: 'GET',\n            headers: {\n              'Authorization' : 'Bearer ' + token\n            }\n          })\n          .then(tracksResponse => {\n            setTracks({\n              selectedTrack: tracks.selectedTrack,\n              listOfTracksFromAPI: tracksResponse.data.items\n            })\n          });\n      }\n\n      const listboxClicked = val => {\n\n          const currentTracks = [...tracks.listOfTracksFromAPI];\n      \n          const trackInfo = currentTracks.filter(t => t.track.id === val);\n      \n          setTrackDetail(trackInfo[0].track);\n\n          \n\n      }\n\n\n    return(\n       <form onSubmit={buttonClicked}>\n          <div className=\"container\">\n            <h2>select a genre</h2>\n          <Dropdown data-testid=\"genre\" options={genres.listOfGenresFromAPI} selectedValue={genres.selectedValue} changed={genreChanged}/>\n          <h2>select a playlist</h2>\n          <Dropdown options={playlist.listOfPlaylistFromAPI} selectedValue={playlist.selectedPlaylist} changed={playlistChanged} />\n          <button type=\"submit\">\n            Submit\n          </button>\n        </div>\n        <div className=\"row\">\n        <Listbox items={tracks.listOfTracksFromAPI} clicked={listboxClicked} />\n            {trackDetail && <Detail {...trackDetail} /> }\n        </div>\n       </form>\n       \n    );\n}\n\nexport default TutorialPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}