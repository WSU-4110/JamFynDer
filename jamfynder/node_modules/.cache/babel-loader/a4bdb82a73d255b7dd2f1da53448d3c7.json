{"ast":null,"code":"import _slicedToArray from \"/Users/jacobarslanian/JamFynDer/jamfynder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/jacobarslanian/JamFynDer/jamfynder/src/components/NavigationBar/NavigationBar.js\";\nimport React, { Component } from 'react';\nimport { useEffect, useState } from \"react\";\nimport { Link, Switch, Route } from \"react-router-dom\";\nimport \"./NavigationBar.css\";\nvar CLIENT_ID = \"ab2cec240910490883a87fd0b46393f8\";\nvar ENDPOINT = \"https://accounts.spotify.com/authorize\";\nvar REDIRECT_URL = \"http://localhost:3000/Player\";\nvar SPACE_DELIMITER = \"%20\";\nvar SCOPES = [\"user-read-currently-playing\", \"user-read-playback-state\", \"user-modify-playback-state\", \"streaming\", \"playlist-read-private\", \"playlist-modify-private\", \"playlist-modify-public\"];\nvar SCOPES_URL_PARM = SCOPES.join(SPACE_DELIMITER);\nvar handleLogin = function handleLogin() {\n  window.location = \"\".concat(ENDPOINT, \"?client_id=\").concat(CLIENT_ID, \"&redirect_uri=\").concat(REDIRECT_URL, \"&scope=\").concat(SCOPES_URL_PARM, \"&response_type=token&show_dialog=true\");\n};\nvar getReturnedParamsFromSpotifyAuth = function getReturnedParamsFromSpotifyAuth(hash) {\n  var stringAfterHashtag = hash.substring(1);\n  var paramsInURL = stringAfterHashtag.split(\"&\");\n  var paramsSplitUp = paramsInURL.reduce(function (accumulater, currentValue) {\n    console.log(currentValue);\n    var _currentValue$split = currentValue.split(\"=\"),\n      _currentValue$split2 = _slicedToArray(_currentValue$split, 2),\n      key = _currentValue$split2[0],\n      value = _currentValue$split2[1];\n    accumulater[key] = value;\n    return accumulater;\n  }, {});\n  return paramsSplitUp;\n};\nvar NavigationBar = function NavigationBar() {\n  useEffect(function () {\n    if (window.location.hash) {\n      var _getReturnedParamsFro = getReturnedParamsFromSpotifyAuth(window.location.hash),\n        access_token = _getReturnedParamsFro.access_token,\n        expires_in = _getReturnedParamsFro.expires_in,\n        token_type = _getReturnedParamsFro.token_type;\n      console.log({\n        access_token: access_token\n      });\n      localStorage.clear();\n      localStorage.setItem(\"accessToken\", access_token);\n      localStorage.setItem(\"tokenType\", token_type);\n      localStorage.setItem(\"expiresIn\", expires_in);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"NavigationBar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/welcome\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/about_us\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"About Us\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/MainPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Main Page\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/tutorial\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Tutorial\")))));\n};\nexport default NavigationBar;","map":{"version":3,"names":["React","Component","useEffect","useState","Link","Switch","Route","CLIENT_ID","ENDPOINT","REDIRECT_URL","SPACE_DELIMITER","SCOPES","SCOPES_URL_PARM","join","handleLogin","window","location","getReturnedParamsFromSpotifyAuth","hash","stringAfterHashtag","substring","paramsInURL","split","paramsSplitUp","reduce","accumulater","currentValue","console","log","key","value","NavigationBar","access_token","expires_in","token_type","localStorage","clear","setItem"],"sources":["/Users/jacobarslanian/JamFynDer/jamfynder/src/components/NavigationBar/NavigationBar.js"],"sourcesContent":["import React, {Component} from 'react';\nimport  {useEffect, useState} from \"react\";\nimport { Link, Switch, Route } from \"react-router-dom\";\nimport \"./NavigationBar.css\";\n\nconst CLIENT_ID = \"ab2cec240910490883a87fd0b46393f8\";\nconst ENDPOINT = \"https://accounts.spotify.com/authorize\";\nconst REDIRECT_URL = \"http://localhost:3000/Player\";\nconst SPACE_DELIMITER = \"%20\";\nconst SCOPES = [\"user-read-currently-playing\", \n                \"user-read-playback-state\", \n                \"user-modify-playback-state\", \n                \"streaming\",\n                \"playlist-read-private\",\n                \"playlist-modify-private\",\n                \"playlist-modify-public\"\n                ];\nconst SCOPES_URL_PARM = SCOPES.join(SPACE_DELIMITER);\n\nconst handleLogin = () => {\n  window.location = `${ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URL}&scope=${SCOPES_URL_PARM}&response_type=token&show_dialog=true`;\n};\n\nconst getReturnedParamsFromSpotifyAuth = (hash) => {\n  const stringAfterHashtag = hash.substring(1);\n  const paramsInURL = stringAfterHashtag.split(\"&\");\n  const paramsSplitUp = paramsInURL.reduce((accumulater, currentValue) => {\n    console.log(currentValue);\n    const [key, value] = currentValue.split(\"=\");\n    accumulater[key] = value;\n    return accumulater;\n  }, {});\n\n  return paramsSplitUp;\n}\n\nconst NavigationBar = () => {\n  \n  useEffect(() => {\n    if(window.location.hash) {\n      const {\n        access_token, \n        expires_in, \n        token_type\n      } = getReturnedParamsFromSpotifyAuth(window.location.hash);\n      console.log({access_token})\n\n      localStorage.clear();\n      localStorage.setItem(\"accessToken\", access_token);\n      localStorage.setItem(\"tokenType\", token_type);\n      localStorage.setItem(\"expiresIn\", expires_in);\n    }\n  })\n\n  return (\n    <header className=\"NavigationBar\">\n      <nav>\n        <ul>\n          <Link to=\"/welcome\">\n            <li>Home</li>\n          </Link>\n\n          <button onClick={handleLogin}>\n            <li>Login</li>\n          </button>\n\n          <Link to=\"/about_us\">\n            <li>About Us</li>\n          </Link>\n\n          {/* <Link to=\"/SettingsPage\">\n            <li>Settings</li>\n          </Link> */}\n\n          <Link to=\"/MainPage\">\n            <li>Main Page</li>\n          </Link>\n\n          <Link to=\"/tutorial\">\n            <li>Tutorial</li>\n          </Link>\n\n          {/* <Link to=\"/Player\">\n            <li>Player</li>\n          </Link> */}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default NavigationBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}